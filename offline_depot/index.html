
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../cmd_reference/">
      
      
        <link rel="next" href="../support_community/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Offline Depot - Holodeck 9.0</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Holodeck 9.0" class="md-header__button md-logo" aria-label="Holodeck 9.0" data-md-component="logo">
      
  <img src="../images/VMware_by_Broadcom_White.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Holodeck 9.0
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Offline Depot
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../release_notes/" class="md-tabs__link">
        
  
  
    
  
  Release Notes

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../downloads/" class="md-tabs__link">
        
  
  
    
  
  Downloads

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../cmd_reference/" class="md-tabs__link">
        
  
  
    
  
  Command Reference

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Offline Depot

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../support_community/" class="md-tabs__link">
        
  
  
    
  
  Support

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../faq/" class="md-tabs__link">
        
  
  
    
  
  FAQ

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Holodeck 9.0" class="md-nav__button md-logo" aria-label="Holodeck 9.0" data-md-component="logo">
      
  <img src="../images/VMware_by_Broadcom_White.png" alt="logo">

    </a>
    Holodeck 9.0
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../release_notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../downloads/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Downloads
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cmd_reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Offline Depot
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Offline Depot
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obtaining-a-download-token" class="md-nav__link">
    <span class="md-ellipsis">
      Obtaining a Download Token
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-options-if-using-holodeck" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Options if Using Holodeck
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying-the-offline-depot-appliance" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying the Offline Depot Appliance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-boot" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Boot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-appliance-web-server" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the Appliance Web Server
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-jupyter-lab-server" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the Jupyter Lab Server
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-vcf-product-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the VCF Product Documentation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging-into-the-oda" class="md-nav__link">
    <span class="md-ellipsis">
      Logging into the ODA
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#populating-the-binaries" class="md-nav__link">
    <span class="md-ellipsis">
      Populating the binaries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Populating the binaries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-one-leverage-the-jupyter-notebook" class="md-nav__link">
    <span class="md-ellipsis">
      Option One: Leverage the Jupyter Notebook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-two-manually-use-the-vcf-download-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Option Two: Manually Use the VCF Download Tool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#directory-structure-and-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Directory Structure and Permissions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#caveats" class="md-nav__link">
    <span class="md-ellipsis">
      Caveats
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-expand-the-storage" class="md-nav__link">
    <span class="md-ellipsis">
      How to Expand the Storage
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../support_community/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Support
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 style="text-align: center;"><strong>Offline Depot</strong></h1>

<h3 id="overview">Overview</h3>
<p>The Offline Depot Appliance (ODA) is intended to help with the creation and maintenance of a VCF offline depot. A offline depot provides software for installation or updates to one or more VMware Cloud Foundation instances.</p>
<p>An offline depot is not a requirement for VMware Cloud Foundation, as it has the out-of-the-box ability to leverage a online depot. As the online depot is managed by Broadcom, it has all the binaries accessible for a customer's entitlements. In contrast, a offline depot is managed by a customer and can be configured to only have specific binaries (if desired). </p>
<p>However, a offline depot has several advantages:
- It can provide organizations with ability to use a offline depot in environments where external network connectivity is restricted or unavailable.
- It can provide faster download and installation speeds, as the offline depot would be local to the organization. 
- It allows organizations to curate the binaries that they wish to make available to their VCF Instances.</p>
<p>In addition, this Offline Depot Appliance provides a couple of additional features over and beyond simple offline depot:</p>
<ul>
<li>
<p>It supports Holodeck
Holodeck is a tool that automates the deployment of a virtualized VMware Cloud Foundation instance. This can be helpful to organizations in testing integrations, APIs, and general functionality as it requires a significantly reduced physical hardware footprint (and cost). </p>
</li>
<li>
<p>It provides for easy management of the depot
The user can optionally enable a Jupyter Lab instance on the depot. In doing so, a couple of Jupyter notebooks are included which help perform various tasks related to depot maintenance and Holodeck integration. </p>
</li>
</ul>
<h3 id="obtaining-a-download-token">Obtaining a Download Token</h3>
<p>In order to leverage the ODA to download and populate the depot with the required binaries, you will need a download token. </p>
<p>You can obtain a download token by following the instructions described in this <a href="https://knowledge.broadcom.com/external/article/390098">Broadcom KnowledgeBase Article</a>.</p>
<h3 id="deployment-options-if-using-holodeck">Deployment Options if Using Holodeck</h3>
<p>If you are using Holodeck, you basically have two options for where to deploy the ODA: </p>
<ul>
<li>It can be deployed on the management network</li>
<li>It can be deployed on the isolated network.</li>
</ul>
<p>The recommended deployment method is to install the ODA on the management network. This allows the ODA to have network access to download the bits as well as to allow the AI chatbot to function. </p>
<p>With this type of deployment, you can utilize the included Jupyter notebooks to perform several of the tasks needed when using Holodeck. This includes things like copying the binaries to the Holorouter as well as performing common tasks, such as getting information from the HoloDeck configuration.  </p>
<p>The other method is to install the ODA on the isolated network. Although this works, there are a few more steps required.</p>
<p>As the isolated network doesn't have network access until the Holorouter is all configured with BGP and DNS, you can not download the binaries to the ODA.</p>
<p>This means that you would have to manually download and copy the SDDC Manager and ESX binaries to the Holorouter and start the Holorouter deployment.</p>
<p>Once the Holorouter is up and online, then it can forward requests out to the internet and this allows you to start performing the binary downloads directly to the ODA as the ODA will now have internet access.</p>
<h3 id="deploying-the-offline-depot-appliance">Deploying the Offline Depot Appliance</h3>
<p>To deploy the appliance, simply deploy the OVA on your vCenter Server like you would normally do.</p>
<figure>
    <img src="../images/Deploy-Offline-Depot-Step-1.png">
</figure>
<p>Next, You will provide the VM a name and specify the location where it will be deployed to:</p>
<figure>
    <img src="../images/Deploy-Offline-Depot-Step-2.png">
</figure>
<p>Next, you will select the compute resource to deploy the VM to. Note that you can check the box so that the VM is automatically started after it is finished being imported. If you wanted to watch the first boot process, then you can leave this unselected and manually power on the VM.</p>
<figure>
    <img src="../images/Deploy-Offline-Depot-Step-3.png">
</figure>
<p>Next, you see the review page - Just click Next to continue.</p>
<figure>
    <img src="../images/Deploy-Offline-Depot-Step-4.png">
</figure>
<p>Next, you will need to select the appropriate storage. Ensure that the storage has enough space for your needs. </p>
<figure>
    <img src="../images/Deploy-Offline-Depot-Step-5.png">
</figure>
<p>At the next screen, you can select the network that you want to deploy the ODA to. Please see the above section that talks about the different ways you could deploy the appliance. In short though, it is recommended that you put the appliance on the management network.</p>
<figure>
    <img src="../images/Deploy-Offline-Depot-Step-6.png">
</figure>
<p>Now you've gotten to the point where you will need to specify various networking attributes, such as the host name, IP address, and Net Mask. Use the values required for your environment.</p>
<figure>
    <img src="../images/Deploy-Offline-Depot-Step-7a.png">
</figure>
<p>The next section of attributes are used to set the password for the admin user. This is the user account that you will use to SSH into the appliance.</p>
<p>After this, you can select some options specific to the depot configuration. </p>
<ul>
<li>Skip Binary Download
If you select this, the appliance will not attempt to automatically download the required VCF binaries when it powers on. This is very handy if you do not have your download token at the time you are installing the appliance. </li>
</ul>
<p>After the appliance is deployed, you can either manually populate the depot or you can utilize the automation provided in the included Jupyter Notebooks to help you populate the depot. </p>
<ul>
<li>Download Token
You will need to provide this in order to the appliance to attempt to automatically download the VCF binaries. If you do not provide this, then the appliance will attempt to download the required bits and then fail after timing out. </li>
</ul>
<p>As in the case if you selected to skip the binary download, you can always manually populate the depot or use the Jupyter Notebooks later.</p>
<ul>
<li>VCF Version
This specifies the VCF version you wish to have the appliance download the binaries for. For VCF 9, simply enter '9.0' here.</li>
</ul>
<p>The Advanced section provides you the ability to enable SSH to the appliance as well as the option to enable the Jupyter Lab server. It is highly recommended that you enable the Jupyter Lab server and this option will be checked by default. </p>
<figure>
    <img src="../images/Deploy-Offline-Depot-Step-7b.png">
</figure>
<h3 id="initial-boot">Initial Boot</h3>
<p>After you deploy the appliance, you'll want to power it on. Note that the first time you power it on, it will perform some configuration steps and then reboot itself. These configuration steps will only occur the first time you boot the VM.</p>
<p>Please wait until the second boot completes until trying to use the appliance.</p>
<h3 id="accessing-the-appliance-web-server">Accessing the Appliance Web Server</h3>
<p>With the appliance online, use a web browser and go to:</p>
<p><code>http://&lt;ODA_IP&gt;</code></p>
<p>You should see this if you selected the option to skip the automatic download of the binaries or if the appliance had some issue trying to download the binaries:</p>
<figure>
    <img src="../images/Offline-Depot-Web-Server.png">
</figure>
<p>This indicates that no binaries have been put into place on the depot. After you download binaries (see below) then this will be populated.</p>
<h3 id="accessing-the-jupyter-lab-server">Accessing the Jupyter Lab Server</h3>
<p>You can also access the Jupyter Lab server (if you enabled it) by using the following URL: </p>
<p>http://<ODA_IP>:8888</p>
<figure>
    <img src="../images/Offline-Depot-Jupyter-Notebook.png">
</figure>
<p>Here, you will see two Jupyter notebooks that can assist you in performing a variety of tasks. </p>
<h3 id="accessing-the-vcf-product-documentation">Accessing the VCF Product Documentation</h3>
<p>To make things a bit easier for people, copies of the VCF 5.2 and 9.0 product documentation is included on the appliance under /var/www/docs</p>
<h3 id="logging-into-the-oda">Logging into the ODA</h3>
<p>You can login to the ODA appliance as the user <strong>admin</strong> with the password you set at boot.</p>
<p>If you need to become root, simply use sudo</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>sudo su
</code></pre></div>
<h3 id="populating-the-binaries">Populating the binaries</h3>
<p>There are two main methods you can do this by. These are listed below.</p>
<h4 id="option-one-leverage-the-jupyter-notebook">Option One: Leverage the Jupyter Notebook</h4>
<p>This is the preferred method, as it makes things a bit easier. Simply access the Depot Maintenance Jupyter Notebook and go to the section about downloading the binaries and follow the directions.</p>
<figure>
    <img src="../images/Offline-Depot-Jupyter-Notebook-Manual-1.png">
</figure>
<p>Please note that the Jupyter Notebook will display the output of the command cell executed (if there is any). For example, if you ran the cell to download the ESX binaries for Holodeck, you would see something similar to this:</p>
<figure>
    <img src="../images/Offline-Depot-Jupyter-Notebook-Manual-2.png">
</figure>
<p>It's important to note that you can make these Jupyter Notebooks specific to your environment by modifying the commands or adding more.</p>
<h4 id="option-two-manually-use-the-vcf-download-tool">Option Two: Manually Use the VCF Download Tool</h4>
<p>The VCF Download Tool (VDT) is also included with this version of the ODA under the /root/vdt/bin directory.</p>
<p>The VDT tool replaces the Offline Bundle Transfer Utility (OBTU) tool previously used. It also has some extensive help that you can access by using the -help argument.</p>
<h4 id="directory-structure-and-permissions">Directory Structure and Permissions</h4>
<p>If you populate the binaries manually, then you need to ensure the files are in the proper location with the proper permissions. </p>
<p>Again, to assist you with this, you can leverage the Jupyter Notebooks or you can manually execute the commands:</p>
<figure>
    <img src="../images/Offline-Depot-Jupyter-Notebook-Manual-3.png">
</figure>
<p>Failure to set the permissions properly will result in the inability to download the files from the depot.</p>
<p>The directory structure varies depending on what version of VCF you populated the depot with. For VCF 9.0, you will see that under the root directory, you'll have a directory called PROD. Under this, you'll see a directory called COMP and here you will see all the various binaries used.</p>
<p>You will also see a directory for metadata and vsan under /PROD as well. If you are populating the binaries manually, ensure these files exist.</p>
<figure>
    <img src="../images/Offline-Depot-Web-Server-2.png">
</figure>
<h3 id="caveats">Caveats</h3>
<p>There are a few things that you should be aware when using this depot:</p>
<ul>
<li>
<p>The depot does not use HTTPS. Doing so would require the generation and maintenance of certs. This just adds complexity to everything that isn't needed for most lab environments. </p>
<ul>
<li>You will need to change the application-prod.properties file attributes to allow for the use of http.</li>
<li>You will likely see a error in the VCF Installer UI saying that you have to use HTTPS. If you've made all the changes, then you can ignore this warning.</li>
<li>If you are using Holodeck, it automatically will make the required changes for you.</li>
</ul>
</li>
<li>
<p>The disk size is only about 300g for the appliance. Depending on what you are doing, you might need more space. If this is the case, see the section below on how to add more space.</p>
</li>
<li>
<p>There is a known issue with the depot appliance when you deploy to a ESX host directly. In this case, the Jupyter Labs server may not be able to be configured. The depot will still function, regardless.  To work around this, deploy the appliance to a vCenter instance.</p>
</li>
</ul>
<h3 id="how-to-expand-the-storage">How to Expand the Storage</h3>
<p>You might need to expand the filesystem of the depot as you populate it with more binaries. </p>
<p>These procedures are documented in the included Jupyter Notebook. This allows you to execute them directly from there. However, if you chose not to install the Jupyter Notebooks, the instructions are duplicated here.</p>
<p>First, you need to increase the size of the physical disk. To do this, simply edit the size of the disk for the VM and increase it to what will suit your needs. It will support up to 5.9TB in size.</p>
<p>Next, we need to make sure the OS is aware of the space increase:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>echo 1 &gt; /sys/block/sda/device/rescan
</code></pre></div>
Finally, we will execute this command in order to resize the partition
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>printf &#39;yes\n100%%\n&#39; | parted /dev/sda resizepart 2 ---pretend-input-tty
</code></pre></div>
You can verify that the partition has been resized by using the following command:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>parted -s -a opt /dev/sda &quot;print free&quot;
</code></pre></div></p>
<figure>
    <img src="../images/Offline-Depot-Storage-Expansion.png">
</figure>
<p>Next, you need to expand the filesystem in order to take advantage of the new partition space by using a command like:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>resize2fs /dev/sda2
</code></pre></div></p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2005-2025 Broadcom. All Rights Reserved. The term “Broadcom” refers to Broadcom Inc. and/or its subsidiaries.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>